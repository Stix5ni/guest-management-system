# Система управления гостями

Этот проект представляет собой микросервис управления гостями, созданный с использованием PHP и Yii2. Микросервис позволяет выполнять операции CRUD (создание, чтение, обновление и удаление) для хранения информации о гостях.

## Требования

- PHP 8.2
- Composer
- Docker
- Docker Compose

## Установка

1. Клонируйте репозиторий

2. Создайте файл `.env` в корневом каталоге проекта и добавьте следующие переменные

3. Запустите контейнеры с помощью Docker Compose

4. Выполните миграции базы данных

## Переменные окружения

В файле `.env` должны быть следующие переменные:

```plaintext
DB_USERNAME=root
DB_PASSWORD=ваш_пароль
```

## Структура проекта

    config/ — конфигурация приложения.
    controllers/ — контроллеры, управляющие логикой API.
    models/ — модели, представляющие сущности базы данных.
    migrations/ — миграции для создания и изменения структуры базы данных.
    docker-compose.yml — файл конфигурации Docker Compose.
    Dockerfile — файл для сборки контейнера приложения.
    .env — файл с переменными окружения (пароли и другие конфигурации).

## Использование API

### Создание нового гостя

Чтобы создать нового гостя, отправьте POST-запрос на следующий URL:

```
POST http://localhost:8080/guests
```

**Тело запроса**

Вы можете отправить данные в формате `x-www-form-urlencoded`

**Пример запроса в формате `x-www-form-urlencoded`:**

| Поле    | Значение                   |
|---------|---------------------------|
| name    | Имя                       |
| surname | Фамилия                   |
| email   | example@example.com       |
| phone   | +12345678901             |

### Ответ

При успешном создании гостя сервер вернет статус 201 и объект гостя.

При возникновении ошибок будет возвращен статус 400 и список ошибок валидации.

### Получить список всех гостей

```
GET http://localhost:8080/guests
```

### Ответ

Ответ: Возвращает массив объектов гостей.

### Получить гостя по ID

```
GET http://localhost:8080/guests/<id>
```

### Ответ

Ответ: Объект гостя.

### Обновить гостя

```
PUT http://localhost:8080/guests/<id>
```

### Тело запроса

В формате x-www-form-urlencoded. Поля для обновления (например, name, surname, email, phone).

### Ответ

Объект обновленного гостя.

### Удалить гостя

```
DELETE http://localhost:8080/guests/<id>
```

### Ответ

Cообщение об успешном удалении.

## Технологии

- PHP
- Yii2
- Docker
- MySQL
